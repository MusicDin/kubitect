<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=../cluster-node-template/ rel=prev><link href=../kubernetes/ rel=next><link rel=icon href=../../../theme/assets/images/favicon.svg><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.5.17"><title>Cluster nodes - Kubitect</title><link rel=stylesheet href=../../../assets/stylesheets/main.bcfcd587.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.06af60db.min.css><style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17.263 2.177a1.75 1.75 0 0 1 2.474 0l2.586 2.586a1.75 1.75 0 0 1 0 2.474L19.53 10.03l-.012.013L8.69 20.378a1.753 1.753 0 0 1-.699.409l-5.523 1.68a.748.748 0 0 1-.747-.188.748.748 0 0 1-.188-.747l1.673-5.5a1.75 1.75 0 0 1 .466-.756L14.476 4.963ZM4.708 16.361a.26.26 0 0 0-.067.108l-1.264 4.154 4.177-1.271a.253.253 0 0 0 .1-.059l10.273-9.806-2.94-2.939-10.279 9.813ZM19 8.44l2.263-2.262a.25.25 0 0 0 0-.354l-2.586-2.586a.25.25 0 0 0-.354 0L16.061 5.5Z"/></svg>');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.5 3.75a.25.25 0 0 1 .25-.25h13.5a.25.25 0 0 1 .25.25v10a.75.75 0 0 0 1.5 0v-10A1.75 1.75 0 0 0 17.25 2H3.75A1.75 1.75 0 0 0 2 3.75v16.5c0 .966.784 1.75 1.75 1.75h7a.75.75 0 0 0 0-1.5h-7a.25.25 0 0 1-.25-.25V3.75Z"/><path d="M6.25 7a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Zm-.75 4.75a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1-.75-.75Zm16.28 4.53a.75.75 0 1 0-1.06-1.06l-4.97 4.97-1.97-1.97a.75.75 0 1 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l5.5-5.5Z"/></svg>');--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 7.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm-3 3.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 .75.75v4.25h.75a.75.75 0 0 1 0 1.5h-3a.75.75 0 0 1 0-1.5h.75V12h-.75a.75.75 0 0 1-.75-.75Z"/><path d="M12 1c6.075 0 11 4.925 11 11s-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1ZM2.5 12a9.5 9.5 0 0 0 9.5 9.5 9.5 9.5 0 0 0 9.5-9.5A9.5 9.5 0 0 0 12 2.5 9.5 9.5 0 0 0 2.5 12Z"/></svg>');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2.5c-3.81 0-6.5 2.743-6.5 6.119 0 1.536.632 2.572 1.425 3.56.172.215.347.422.527.635l.096.112c.21.25.427.508.63.774.404.531.783 1.128.995 1.834a.75.75 0 0 1-1.436.432c-.138-.46-.397-.89-.753-1.357a18.111 18.111 0 0 0-.582-.714l-.092-.11c-.18-.212-.37-.436-.555-.667C4.87 12.016 4 10.651 4 8.618 4 4.363 7.415 1 12 1s8 3.362 8 7.619c0 2.032-.87 3.397-1.755 4.5-.185.23-.375.454-.555.667l-.092.109c-.21.248-.405.481-.582.714-.356.467-.615.898-.753 1.357a.751.751 0 0 1-1.437-.432c.213-.706.592-1.303.997-1.834.202-.266.419-.524.63-.774l.095-.112c.18-.213.355-.42.527-.634.793-.99 1.425-2.025 1.425-3.561C18.5 5.243 15.81 2.5 12 2.5ZM8.75 18h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1 0-1.5Zm.75 3.75a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75Z"/></svg>');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21.03 5.72a.75.75 0 0 1 0 1.06l-11.5 11.5a.747.747 0 0 1-1.072-.012l-5.5-5.75a.75.75 0 1 1 1.084-1.036l4.97 5.195L19.97 5.72a.75.75 0 0 1 1.06 0Z"/></svg>');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10.97 8.265a1.45 1.45 0 0 0-.487.57.75.75 0 0 1-1.341-.67c.2-.402.513-.826.997-1.148C10.627 6.69 11.244 6.5 12 6.5c.658 0 1.369.195 1.934.619a2.45 2.45 0 0 1 1.004 2.006c0 1.033-.513 1.72-1.027 2.215-.19.183-.399.358-.579.508l-.147.123a4.329 4.329 0 0 0-.435.409v1.37a.75.75 0 1 1-1.5 0v-1.473c0-.237.067-.504.247-.736.22-.28.486-.517.718-.714l.183-.153.001-.001c.172-.143.324-.27.47-.412.368-.355.569-.676.569-1.136a.953.953 0 0 0-.404-.806C12.766 8.118 12.384 8 12 8c-.494 0-.814.121-1.03.265ZM13 17a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/><path d="M12 1c6.075 0 11 4.925 11 11s-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1ZM2.5 12a9.5 9.5 0 0 0 9.5 9.5 9.5 9.5 0 0 0 9.5-9.5A9.5 9.5 0 0 0 12 2.5 9.5 9.5 0 0 0 2.5 12Z"/></svg>');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 17.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm-.25-8.25a.75.75 0 0 0-1.5 0v4.5a.75.75 0 0 0 1.5 0v-4.5Z"/><path d="M9.836 3.244c.963-1.665 3.365-1.665 4.328 0l8.967 15.504c.963 1.667-.24 3.752-2.165 3.752H3.034c-1.926 0-3.128-2.085-2.165-3.752Zm3.03.751a1.002 1.002 0 0 0-1.732 0L2.168 19.499A1.002 1.002 0 0 0 3.034 21h17.932a1.002 1.002 0 0 0 .866-1.5L12.866 3.994Z"/></svg>');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5.72 5.72a.75.75 0 0 1 1.06 0L12 10.94l5.22-5.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L13.06 12l5.22 5.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L12 13.06l-5.22 5.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L10.94 12 5.72 6.78a.75.75 0 0 1 0-1.06Z"/></svg>');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.716 1.329a1.341 1.341 0 0 1 2.109 1.55L15.147 9h4.161c1.623 0 2.372 2.016 1.143 3.075L8.102 22.721a1.148 1.148 0 0 1-1.81-1.317L8.996 15H4.674c-1.619 0-2.37-2.008-1.148-3.07l12.19-10.6Zm.452 1.595L4.51 13.061a.25.25 0 0 0 .164.439h5.45a.749.749 0 0 1 .692 1.041l-2.559 6.066 11.215-9.668a.25.25 0 0 0-.164-.439H14a.75.75 0 0 1-.687-1.05Z"/></svg>');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7.72.22a.75.75 0 0 1 1.06 0l1.204 1.203A4.98 4.98 0 0 1 12 1c.717 0 1.4.151 2.016.423L15.22.22a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-.971.972A4.991 4.991 0 0 1 17 6v1.104a2.755 2.755 0 0 1 1.917 1.974l1.998-.999a.75.75 0 0 1 .67 1.342L19 10.714V13.5l3.25.003a.75.75 0 0 1 0 1.5L19 15.001V16c0 .568-.068 1.134-.204 1.686l.04.018 2.75 1.375a.75.75 0 1 1-.671 1.342l-2.638-1.319A6.998 6.998 0 0 1 12 23a6.998 6.998 0 0 1-6.197-3.742l-2.758 1.181a.752.752 0 0 1-1.064-.776.752.752 0 0 1 .474-.602l2.795-1.199A6.976 6.976 0 0 1 5 16v-.996H1.75a.75.75 0 0 1 0-1.5H5v-2.79L2.415 9.42a.75.75 0 0 1 .67-1.342l1.998.999A2.756 2.756 0 0 1 7 7.104V6a4.99 4.99 0 0 1 1.69-3.748l-.97-.972a.75.75 0 0 1 0-1.06ZM6.5 9.75V16a5.5 5.5 0 1 0 11 0V9.75c0-.69-.56-1.25-1.25-1.25h-8.5c-.69 0-1.25.56-1.25 1.25ZM8.5 7h7V6a3.5 3.5 0 1 0-7 0Z"/></svg>');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8 8.807V3.5h-.563a.75.75 0 0 1 0-1.5h9.125a.75.75 0 0 1 0 1.5H16v5.307l5.125 9.301c.964 1.75-.302 3.892-2.299 3.892H5.174c-1.998 0-3.263-2.142-2.3-3.892ZM4.189 18.832a1.123 1.123 0 0 0 .985 1.668h13.652a1.123 1.123 0 0 0 .985-1.668L17.7 15H6.3ZM14.5 3.5h-5V9a.75.75 0 0 1-.093.362L7.127 13.5h9.746l-2.28-4.138A.75.75 0 0 1 14.5 9Z"/></svg>');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6.25a.75.75 0 0 1 .75-.75h13.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.25Zm5 6.063a.75.75 0 0 1 .75-.75h11.5a.75.75 0 0 1 0 1.5H8.75a.75.75 0 0 1-.75-.75Zm0 5.937a.75.75 0 0 1 .75-.75h11.5a.75.75 0 0 1 0 1.5H8.75a.75.75 0 0 1-.75-.75ZM3.75 11a.75.75 0 0 1 .75.75v7a.75.75 0 0 1-1.5 0v-7a.75.75 0 0 1 .75-.75Z"/></svg>');}</style><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Ubuntu:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Ubuntu";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../theme/assets/stylesheets/style.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#cluster-nodes class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> <aside class="md-banner md-banner--warning"> <div class="md-banner__inner md-grid md-typeset"> This documentation does not refer to the <a href=../../../..><strong>latest version</strong></a>. </div> <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script> </aside> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title=Kubitect class="md-header__button md-logo" aria-label=Kubitect data-md-component=logo> <img src=../../../theme/assets/images/logo_white.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Kubitect </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Cluster nodes </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/musicdin/kubitect title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 16 16"><path d="M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z"/></svg> </div> <div class=md-source__repository> MusicDin/kubitect </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../../getting-started/introduction/ class=md-tabs__link> Getting started </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../before-you-begin/ class=md-tabs__link> User guide </a> </li> <li class=md-tabs__item> <a href=../../../examples/single-node-cluster/ class=md-tabs__link> Examples </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title=Kubitect class="md-nav__button md-logo" aria-label=Kubitect data-md-component=logo> <img src=../../../theme/assets/images/logo_white.svg alt=logo> </a> Kubitect </label> <div class=md-nav__source> <a href=https://github.com/musicdin/kubitect title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 16 16"><path d="M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z"/></svg> </div> <div class=md-source__repository> MusicDin/kubitect </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Getting started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Getting started </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_1> <label class=md-nav__link for=__nav_2_1 id=__nav_2_1_label tabindex=0> <span class=md-ellipsis> Getting started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_1_label aria-expanded=false> <label class=md-nav__title for=__nav_2_1> <span class="md-nav__icon md-icon"></span> Getting started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../getting-started/introduction/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../../../getting-started/installation/ class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class=md-nav__item> <a href=../../../getting-started/requirements/ class=md-nav__link> <span class=md-ellipsis> Requirements </span> </a> </li> <li class=md-nav__item> <a href=../../../getting-started/quick-start/ class=md-nav__link> <span class=md-ellipsis> Quick start </span> </a> </li> <li class=md-nav__item> <a href=../../../getting-started/getting-started/ class=md-nav__link> <span class=md-ellipsis> Getting started (step-by-step) </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex=0> <span class=md-ellipsis> Other </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Other </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../getting-started/other/local-development/ class=md-nav__link> <span class=md-ellipsis> Local development </span> </a> </li> <li class=md-nav__item> <a href=../../../getting-started/other/troubleshooting/ class=md-nav__link> <span class=md-ellipsis> Troubleshooting </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> User guide </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> User guide </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_1> <label class=md-nav__link for=__nav_3_1 id=__nav_3_1_label tabindex> <span class=md-ellipsis> User guide </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> User guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../before-you-begin/ class=md-nav__link> <span class=md-ellipsis> Before you begin </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2 id=__nav_3_2_label tabindex> <span class=md-ellipsis> Cluster Management </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> Cluster Management </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../management/upgrading/ class=md-nav__link> <span class=md-ellipsis> Upgrading the cluster </span> </a> </li> <li class=md-nav__item> <a href=../../management/scaling/ class=md-nav__link> <span class=md-ellipsis> Scaling the cluster </span> </a> </li> <li class=md-nav__item> <a href=../../management/destroying/ class=md-nav__link> <span class=md-ellipsis> Destroying the cluster </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3 checked> <label class=md-nav__link for=__nav_3_3 id=__nav_3_3_label tabindex> <span class=md-ellipsis> Configuration </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> Configuration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../hosts/ class=md-nav__link> <span class=md-ellipsis> Hosts </span> </a> </li> <li class=md-nav__item> <a href=../cluster-name/ class=md-nav__link> <span class=md-ellipsis> Cluster name </span> </a> </li> <li class=md-nav__item> <a href=../cluster-network/ class=md-nav__link> <span class=md-ellipsis> Cluster network </span> </a> </li> <li class=md-nav__item> <a href=../cluster-node-template/ class=md-nav__link> <span class=md-ellipsis> Cluster node template </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Cluster nodes </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Cluster nodes </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#background class=md-nav__link> <span class=md-ellipsis> Background </span> </a> <nav class=md-nav aria-label=Background> <ul class=md-nav__list> <li class=md-nav__item> <a href=#worker-nodes class=md-nav__link> <span class=md-ellipsis> Worker nodes </span> </a> </li> <li class=md-nav__item> <a href=#master-nodes class=md-nav__link> <span class=md-ellipsis> Master nodes </span> </a> </li> <li class=md-nav__item> <a href=#load-balancer-nodes class=md-nav__link> <span class=md-ellipsis> Load balancer nodes </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#nodes-configuration-structure class=md-nav__link> <span class=md-ellipsis> Nodes configuration structure </span> </a> </li> <li class=md-nav__item> <a href=#configuration class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> <nav class=md-nav aria-label=Configuration> <ul class=md-nav__list> <li class=md-nav__item> <a href=#common-node-properties class=md-nav__link> <span class=md-ellipsis> Common node properties </span> </a> <nav class=md-nav aria-label="Common node properties"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#instance-id class=md-nav__link> <span class=md-ellipsis> Instance ID </span> </a> </li> <li class=md-nav__item> <a href=#cpu class=md-nav__link> <span class=md-ellipsis> CPU </span> </a> </li> <li class=md-nav__item> <a href=#ram class=md-nav__link> <span class=md-ellipsis> RAM </span> </a> </li> <li class=md-nav__item> <a href=#main-disk-size class=md-nav__link> <span class=md-ellipsis> Main disk size </span> </a> </li> <li class=md-nav__item> <a href=#ip-address class=md-nav__link> <span class=md-ellipsis> IP address </span> </a> </li> <li class=md-nav__item> <a href=#mac-address class=md-nav__link> <span class=md-ellipsis> MAC address </span> </a> </li> <li class=md-nav__item> <a href=#host-affinity class=md-nav__link> <span class=md-ellipsis> Host affinity </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#control-plane-and-worker-node-properties class=md-nav__link> <span class=md-ellipsis> Control plane and worker node properties </span> </a> <nav class=md-nav aria-label="Control plane and worker node properties"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#data-disks class=md-nav__link> <span class=md-ellipsis> Data disks </span> </a> </li> <li class=md-nav__item> <a href=#node-labels class=md-nav__link> <span class=md-ellipsis> Node labels </span> </a> </li> <li class=md-nav__item> <a href=#node-taints class=md-nav__link> <span class=md-ellipsis> Node taints </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#load-balancer-properties class=md-nav__link> <span class=md-ellipsis> Load balancer properties </span> </a> <nav class=md-nav aria-label="Load balancer properties"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#virtual-ip-address-vip class=md-nav__link> <span class=md-ellipsis> Virtual IP address (VIP) </span> </a> </li> <li class=md-nav__item> <a href=#virtual-router-id-vrid class=md-nav__link> <span class=md-ellipsis> Virtual router ID (VRID) </span> </a> </li> <li class=md-nav__item> <a href=#priority class=md-nav__link> <span class=md-ellipsis> Priority </span> </a> </li> <li class=md-nav__item> <a href=#port-forwarding class=md-nav__link> <span class=md-ellipsis> Port forwarding </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#example-usage class=md-nav__link> <span class=md-ellipsis> Example usage </span> </a> <nav class=md-nav aria-label="Example usage"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#set-a-role-to-all-worker-nodes class=md-nav__link> <span class=md-ellipsis> Set a role to all worker nodes </span> </a> </li> <li class=md-nav__item> <a href=#load-balance-http-requests class=md-nav__link> <span class=md-ellipsis> Load balance HTTP requests </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../kubernetes/ class=md-nav__link> <span class=md-ellipsis> Kubernetes </span> </a> </li> <li class=md-nav__item> <a href=../addons/ class=md-nav__link> <span class=md-ellipsis> Addons </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_4> <label class=md-nav__link for=__nav_3_4 id=__nav_3_4_label tabindex> <span class=md-ellipsis> Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/configuration/ class=md-nav__link> <span class=md-ellipsis> Configuration reference </span> </a> </li> <li class=md-nav__item> <a href=../../reference/cli/ class=md-nav__link> <span class=md-ellipsis> CLI tool reference </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Examples </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Examples </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4_1> <label class=md-nav__link for=__nav_4_1 id=__nav_4_1_label tabindex=0> <span class=md-ellipsis> Cluster Topologies </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_1_label aria-expanded=false> <label class=md-nav__title for=__nav_4_1> <span class="md-nav__icon md-icon"></span> Cluster Topologies </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../examples/single-node-cluster/ class=md-nav__link> <span class=md-ellipsis> Single node cluster </span> </a> </li> <li class=md-nav__item> <a href=../../../examples/multi-worker-cluster/ class=md-nav__link> <span class=md-ellipsis> Multi-worker cluster </span> </a> </li> <li class=md-nav__item> <a href=../../../examples/multi-master-cluster/ class=md-nav__link> <span class=md-ellipsis> Multi-master cluster </span> </a> </li> <li class=md-nav__item> <a href=../../../examples/ha-cluster/ class=md-nav__link> <span class=md-ellipsis> Highly available (HA) cluster </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2 id=__nav_4_2_label tabindex=0> <span class=md-ellipsis> Storage </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Storage </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../examples/rook-cluster/ class=md-nav__link> <span class=md-ellipsis> Rook cluster </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3 id=__nav_4_3_label tabindex=0> <span class=md-ellipsis> Other </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> Other </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../examples/accessing-cluster/ class=md-nav__link> <span class=md-ellipsis> Accessing the cluster </span> </a> </li> <li class=md-nav__item> <a href=../../../examples/network-bridge/ class=md-nav__link> <span class=md-ellipsis> Network bridge </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#background class=md-nav__link> <span class=md-ellipsis> Background </span> </a> <nav class=md-nav aria-label=Background> <ul class=md-nav__list> <li class=md-nav__item> <a href=#worker-nodes class=md-nav__link> <span class=md-ellipsis> Worker nodes </span> </a> </li> <li class=md-nav__item> <a href=#master-nodes class=md-nav__link> <span class=md-ellipsis> Master nodes </span> </a> </li> <li class=md-nav__item> <a href=#load-balancer-nodes class=md-nav__link> <span class=md-ellipsis> Load balancer nodes </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#nodes-configuration-structure class=md-nav__link> <span class=md-ellipsis> Nodes configuration structure </span> </a> </li> <li class=md-nav__item> <a href=#configuration class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> <nav class=md-nav aria-label=Configuration> <ul class=md-nav__list> <li class=md-nav__item> <a href=#common-node-properties class=md-nav__link> <span class=md-ellipsis> Common node properties </span> </a> <nav class=md-nav aria-label="Common node properties"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#instance-id class=md-nav__link> <span class=md-ellipsis> Instance ID </span> </a> </li> <li class=md-nav__item> <a href=#cpu class=md-nav__link> <span class=md-ellipsis> CPU </span> </a> </li> <li class=md-nav__item> <a href=#ram class=md-nav__link> <span class=md-ellipsis> RAM </span> </a> </li> <li class=md-nav__item> <a href=#main-disk-size class=md-nav__link> <span class=md-ellipsis> Main disk size </span> </a> </li> <li class=md-nav__item> <a href=#ip-address class=md-nav__link> <span class=md-ellipsis> IP address </span> </a> </li> <li class=md-nav__item> <a href=#mac-address class=md-nav__link> <span class=md-ellipsis> MAC address </span> </a> </li> <li class=md-nav__item> <a href=#host-affinity class=md-nav__link> <span class=md-ellipsis> Host affinity </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#control-plane-and-worker-node-properties class=md-nav__link> <span class=md-ellipsis> Control plane and worker node properties </span> </a> <nav class=md-nav aria-label="Control plane and worker node properties"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#data-disks class=md-nav__link> <span class=md-ellipsis> Data disks </span> </a> </li> <li class=md-nav__item> <a href=#node-labels class=md-nav__link> <span class=md-ellipsis> Node labels </span> </a> </li> <li class=md-nav__item> <a href=#node-taints class=md-nav__link> <span class=md-ellipsis> Node taints </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#load-balancer-properties class=md-nav__link> <span class=md-ellipsis> Load balancer properties </span> </a> <nav class=md-nav aria-label="Load balancer properties"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#virtual-ip-address-vip class=md-nav__link> <span class=md-ellipsis> Virtual IP address (VIP) </span> </a> </li> <li class=md-nav__item> <a href=#virtual-router-id-vrid class=md-nav__link> <span class=md-ellipsis> Virtual router ID (VRID) </span> </a> </li> <li class=md-nav__item> <a href=#priority class=md-nav__link> <span class=md-ellipsis> Priority </span> </a> </li> <li class=md-nav__item> <a href=#port-forwarding class=md-nav__link> <span class=md-ellipsis> Port forwarding </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#example-usage class=md-nav__link> <span class=md-ellipsis> Example usage </span> </a> <nav class=md-nav aria-label="Example usage"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#set-a-role-to-all-worker-nodes class=md-nav__link> <span class=md-ellipsis> Set a role to all worker nodes </span> </a> </li> <li class=md-nav__item> <a href=#load-balance-http-requests class=md-nav__link> <span class=md-ellipsis> Load balance HTTP requests </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <div class=text-center> <h1 id=cluster-nodes>Cluster nodes<a class=headerlink href=#cluster-nodes title="Anchor link">&#128279;&#xFE0E;</a></h1> </div> <div class=text-justify> <h2 id=background>Background<a class=headerlink href=#background title="Anchor link">&#128279;&#xFE0E;</a></h2> <p>Kubitect allows configuration of three distinct <strong>node types</strong>: worker nodes, master nodes (control plane), and load balancers.</p> <h3 id=worker-nodes>Worker nodes<a class=headerlink href=#worker-nodes title="Anchor link">&#128279;&#xFE0E;</a></h3> <p>Worker nodes in a Kubernetes cluster are responsible for executing the application workloads of the system. The addition of more worker nodes to the cluster enhances redundancy in case of worker node failure. However, allocating more resources to each worker node provides less overhead and more resources for the actual applications.</p> <p>Kubitect does not offer automatic scaling of worker nodes based on resource demand. However, you can easily add or remove worker nodes by applying modified cluster configuration.</p> <h3 id=master-nodes>Master nodes<a class=headerlink href=#master-nodes title="Anchor link">&#128279;&#xFE0E;</a></h3> <p>The master node plays a vital role in a Kubernetes cluster as it manages the overall state of the system and coordinates the workloads running on the worker nodes. Therefore, it is essential to <strong>configure at least one master node for every cluster</strong>.</p> <p>Please note that Kubitect currently supports only a stacked control plane where etcd key-value stores are deployed on control plane nodes. To ensure the best possible fault tolerance, it is important to configure an odd number of control plane nodes. For more information, please refer to the <a href=https://etcd.io/docs/v3.4/faq/#why-an-odd-number-of-cluster-members>etcd FAQ</a>.</p> <h3 id=load-balancer-nodes>Load balancer nodes<a class=headerlink href=#load-balancer-nodes title="Anchor link">&#128279;&#xFE0E;</a></h3> <p>In a Kubernetes cluster with multiple control plane nodes, it is necessary to configure at least one load balancer. A load balancer distributes incoming network traffic across multiple control plane nodes, ensuring the cluster operates normally even if any control plane node fails.</p> <p>However, configuring only one load balancer represents a single point of failure for the cluster. If it fails, incoming traffic will not be distributed to the control plane nodes, potentially resulting in downtime. Therefore, configuring multiple load balancers is essential to ensure high availability for the cluster.</p> <h2 id=nodes-configuration-structure>Nodes configuration structure<a class=headerlink href=#nodes-configuration-structure title="Anchor link">&#128279;&#xFE0E;</a></h2> <p>The configuration structure for the nodes is as follows:</p> <div class=highlight><pre><span></span><code><span class=nt>cluster</span><span class=p>:</span>
<span class=w>  </span><span class=nt>nodes</span><span class=p>:</span>
<span class=w>    </span><span class=nt>masters</span><span class=p>:</span>
<span class=w>      </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class=w>    </span><span class=nt>workers</span><span class=p>:</span>
<span class=w>      </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class=w>    </span><span class=nt>loadBalancers</span><span class=p>:</span>
<span class=w>      </span><span class="l l-Scalar l-Scalar-Plain">...</span>
</code></pre></div> <p>Each node type has two subsections: <code>default</code> and <code>instances</code>. The instances subsection represents an array of actual nodes, while the default subsection provides the configuration that is applied to all instances of a particular node type. Each default value can also be overwritten by setting the same property for a specific instance.</p> <div class=highlight><pre><span></span><code><span class=nt>cluster</span><span class=p>:</span>
<span class=w>  </span><span class=nt>nodes</span><span class=p>:</span>
<span class=w>    </span><span class=nt>&lt;node-type&gt;</span><span class=p>:</span>
<span class=w>      </span><span class=nt>default</span><span class=p>:</span>
<span class=w>        </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class=w>      </span><span class=nt>instances</span><span class=p>:</span>
<span class=w>        </span><span class="l l-Scalar l-Scalar-Plain">...</span>
</code></pre></div> <h2 id=configuration>Configuration<a class=headerlink href=#configuration title="Anchor link">&#128279;&#xFE0E;</a></h2> <h3 id=common-node-properties>Common node properties<a class=headerlink href=#common-node-properties title="Anchor link">&#128279;&#xFE0E;</a></h3> <p>Each node instance has a set of predefined properties that can be set to configure its behavior. Some properties apply to all node types, while others are specific to a certain node type. Properties that apply to all node types are referred to as <em>common properties</em>.</p> <h4 id=instance-id>Instance ID<a class=headerlink href=#instance-id title="Anchor link">&#128279;&#xFE0E;</a></h4> <p><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.5 5C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5m0 0C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5m14.91 6.58-9-9C12.04 2.21 11.53 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .53.21 1.04.59 1.42l.41.4c.64-.38 1.35-.63 2.08-.74L4 11V4h7l9 9-7 7-1.08-1.08c-.1.74-.36 1.44-.74 2.08l.41.41c.37.38.88.59 1.41.59.53 0 1.04-.21 1.41-.59l7-7c.38-.37.59-.88.59-1.41 0-.53-.21-1.04-.59-1.42M6.5 5C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5M6 17v4h2v-4h2l-3-3-3 3h2Z"/></svg></span> <a href=https://github.com/MusicDin/kubitect/releases/tag/v2.3.0>v2.3.0</a> &ensp; <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M11 15h2v2h-2v-2m0-8h2v6h-2V7m1-5C6.47 2 2 6.5 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2m0 18a8 8 0 0 1-8-8 8 8 0 0 1 8-8 8 8 0 0 1 8 8 8 8 0 0 1-8 8Z"/></svg></span> Required</p> <p>Each node in a cluster must have a unique identifier, or ID, that distinguishes it from other instances of the same node type. The instance ID is used as a suffix for the name of each node, ensuring that each node has a unique name in the cluster.</p> <div class=highlight><pre><span></span><code><span class=nt>cluster</span><span class=p>:</span>
<span class=w>  </span><span class=nt>nodes</span><span class=p>:</span>
<span class=w>    </span><span class=nt>&lt;node-type&gt;</span><span class=p>:</span>
<span class=w>      </span><span class=nt>instances</span><span class=p>:</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">compute-1</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">77</span>
</code></pre></div> <h4 id=cpu>CPU<a class=headerlink href=#cpu title="Anchor link">&#128279;&#xFE0E;</a></h4> <p><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.5 5C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5m0 0C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5m14.91 6.58-9-9C12.04 2.21 11.53 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .53.21 1.04.59 1.42l.41.4c.64-.38 1.35-.63 2.08-.74L4 11V4h7l9 9-7 7-1.08-1.08c-.1.74-.36 1.44-.74 2.08l.41.41c.37.38.88.59 1.41.59.53 0 1.04-.21 1.41-.59l7-7c.38-.37.59-.88.59-1.41 0-.53-.21-1.04-.59-1.42M6.5 5C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5M6 17v4h2v-4h2l-3-3-3 3h2Z"/></svg></span> <a href=https://github.com/MusicDin/kubitect/releases/tag/v2.0.0>v2.0.0</a> &ensp; <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 3a2 2 0 0 1 2-2h9.982a2 2 0 0 1 1.414.586l4.018 4.018A2 2 0 0 1 21 7.018V21a2 2 0 0 1-2 2H4.75a.75.75 0 0 1 0-1.5H19a.5.5 0 0 0 .5-.5V8.5h-4a2 2 0 0 1-2-2v-4H5a.5.5 0 0 0-.5.5v6.25a.75.75 0 0 1-1.5 0Zm6.308 11.5-2.104-2.236a.751.751 0 0 1 .369-1.255.749.749 0 0 1 .723.227l3.294 3.5a.75.75 0 0 1 0 1.028l-3.294 3.5a.749.749 0 0 1-1.275-.293.751.751 0 0 1 .183-.735L9.308 16H4.09a2.59 2.59 0 0 0-2.59 2.59v3.16a.75.75 0 0 1-1.5 0v-3.16a4.09 4.09 0 0 1 4.09-4.09ZM15 2.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 0-.146-.336l-4.018-4.018A.5.5 0 0 0 15 2.5Z"/></svg></span> Default: <code>2</code> vCPU</p> <p>The <code>cpu</code> property defines the amount of virtual CPU cores assigned to a node instance. This property can be set for a specific instance, or as a default value for all instances of a certain node type.</p> <div class=highlight><pre><span></span><code><span class=nt>cluster</span><span class=p>:</span>
<span class=w>  </span><span class=nt>nodes</span><span class=p>:</span>
<span class=w>    </span><span class=nt>&lt;node-type&gt;</span><span class=p>:</span>
<span class=w>      </span><span class=nt>default</span><span class=p>:</span>
<span class=w>        </span><span class=nt>cpu</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class=w>      </span><span class=nt>instances</span><span class=p>:</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class=w> </span><span class=c1># (1)!</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class=w>          </span><span class=nt>cpu</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">4</span><span class=w> </span><span class=c1># (2)!</span>
</code></pre></div> <ol> <li> <p>Since the <code>cpu</code> property is not set for this instance, the default value (2) is used.</p> </li> <li> <p>This instance has the <code>cpu</code> property set, and therefore the set value (4) overrides the default value (2).</p> </li> </ol> <p>If the property is not set at the instance level or as a default value, Kubitect uses its own default value (2).</p> <div class=highlight><pre><span></span><code><span class=nt>cluster</span><span class=p>:</span>
<span class=w>  </span><span class=nt>nodes</span><span class=p>:</span>
<span class=w>    </span><span class=nt>&lt;node-type&gt;</span><span class=p>:</span>
<span class=w>      </span><span class=nt>instances</span><span class=p>:</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class=w> </span><span class=c1># (1)!</span>
</code></pre></div> <ol> <li>Since the <code>cpu</code> property is not set at instance level or as a default value, Kubitect sets the value of the <code>cpu</code> property to <strong>2 vCPU</strong>.</li> </ol> <h4 id=ram>RAM<a class=headerlink href=#ram title="Anchor link">&#128279;&#xFE0E;</a></h4> <p><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.5 5C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5m0 0C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5m14.91 6.58-9-9C12.04 2.21 11.53 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .53.21 1.04.59 1.42l.41.4c.64-.38 1.35-.63 2.08-.74L4 11V4h7l9 9-7 7-1.08-1.08c-.1.74-.36 1.44-.74 2.08l.41.41c.37.38.88.59 1.41.59.53 0 1.04-.21 1.41-.59l7-7c.38-.37.59-.88.59-1.41 0-.53-.21-1.04-.59-1.42M6.5 5C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5M6 17v4h2v-4h2l-3-3-3 3h2Z"/></svg></span> <a href=https://github.com/MusicDin/kubitect/releases/tag/v2.0.0>v2.0.0</a> &ensp; <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 3a2 2 0 0 1 2-2h9.982a2 2 0 0 1 1.414.586l4.018 4.018A2 2 0 0 1 21 7.018V21a2 2 0 0 1-2 2H4.75a.75.75 0 0 1 0-1.5H19a.5.5 0 0 0 .5-.5V8.5h-4a2 2 0 0 1-2-2v-4H5a.5.5 0 0 0-.5.5v6.25a.75.75 0 0 1-1.5 0Zm6.308 11.5-2.104-2.236a.751.751 0 0 1 .369-1.255.749.749 0 0 1 .723.227l3.294 3.5a.75.75 0 0 1 0 1.028l-3.294 3.5a.749.749 0 0 1-1.275-.293.751.751 0 0 1 .183-.735L9.308 16H4.09a2.59 2.59 0 0 0-2.59 2.59v3.16a.75.75 0 0 1-1.5 0v-3.16a4.09 4.09 0 0 1 4.09-4.09ZM15 2.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 0-.146-.336l-4.018-4.018A.5.5 0 0 0 15 2.5Z"/></svg></span> Default: <code>4</code> GiB</p> <p>The <code>ram</code> property defines the amount of RAM assigned to a node instance (in GiB). This property can be set for a specific instance, or as a default value for all instances of a certain node type.</p> <div class=highlight><pre><span></span><code><span class=nt>cluster</span><span class=p>:</span>
<span class=w>  </span><span class=nt>nodes</span><span class=p>:</span>
<span class=w>    </span><span class=nt>&lt;node-type&gt;</span><span class=p>:</span>
<span class=w>      </span><span class=nt>default</span><span class=p>:</span>
<span class=w>        </span><span class=nt>ram</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">8</span>
<span class=w>      </span><span class=nt>instances</span><span class=p>:</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class=w> </span><span class=c1># (1)!</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class=w>          </span><span class=nt>ram</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">16</span><span class=w> </span><span class=c1># (2)!</span>
</code></pre></div> <ol> <li> <p>Since the <code>ram</code> property is not set for this instance, the default value (8 GiB) is used.</p> </li> <li> <p>This instance has the <code>ram</code> property set, and therefore the set value (16 GiB) overrides the default value (8 GiB).</p> </li> </ol> <p>If the property is not set at the instance level or as a default value, Kubitect uses its own default value (4 GiB).</p> <div class=highlight><pre><span></span><code><span class=nt>cluster</span><span class=p>:</span>
<span class=w>  </span><span class=nt>nodes</span><span class=p>:</span>
<span class=w>    </span><span class=nt>&lt;node-type&gt;</span><span class=p>:</span>
<span class=w>      </span><span class=nt>instances</span><span class=p>:</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class=w> </span><span class=c1># (1)!</span>
</code></pre></div> <ol> <li>Since the <code>ram</code> property is not set at instance level or as a default value, Kubitect sets the value of the <code>ram</code> property to <strong>4 GiB</strong>.</li> </ol> <h4 id=main-disk-size>Main disk size<a class=headerlink href=#main-disk-size title="Anchor link">&#128279;&#xFE0E;</a></h4> <p><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.5 5C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5m0 0C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5m14.91 6.58-9-9C12.04 2.21 11.53 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .53.21 1.04.59 1.42l.41.4c.64-.38 1.35-.63 2.08-.74L4 11V4h7l9 9-7 7-1.08-1.08c-.1.74-.36 1.44-.74 2.08l.41.41c.37.38.88.59 1.41.59.53 0 1.04-.21 1.41-.59l7-7c.38-.37.59-.88.59-1.41 0-.53-.21-1.04-.59-1.42M6.5 5C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5M6 17v4h2v-4h2l-3-3-3 3h2Z"/></svg></span> <a href=https://github.com/MusicDin/kubitect/releases/tag/v2.0.0>v2.0.0</a> &ensp; <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 3a2 2 0 0 1 2-2h9.982a2 2 0 0 1 1.414.586l4.018 4.018A2 2 0 0 1 21 7.018V21a2 2 0 0 1-2 2H4.75a.75.75 0 0 1 0-1.5H19a.5.5 0 0 0 .5-.5V8.5h-4a2 2 0 0 1-2-2v-4H5a.5.5 0 0 0-.5.5v6.25a.75.75 0 0 1-1.5 0Zm6.308 11.5-2.104-2.236a.751.751 0 0 1 .369-1.255.749.749 0 0 1 .723.227l3.294 3.5a.75.75 0 0 1 0 1.028l-3.294 3.5a.749.749 0 0 1-1.275-.293.751.751 0 0 1 .183-.735L9.308 16H4.09a2.59 2.59 0 0 0-2.59 2.59v3.16a.75.75 0 0 1-1.5 0v-3.16a4.09 4.09 0 0 1 4.09-4.09ZM15 2.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 0-.146-.336l-4.018-4.018A.5.5 0 0 0 15 2.5Z"/></svg></span> Default: <code>32</code> GiB</p> <p>The <code>mainDiskSize</code> property defines the amount of disk space assigned to a node instance (in GiB). This property can be set for a specific instance, or as a default value for all instances of a certain node type.</p> <div class=highlight><pre><span></span><code><span class=nt>cluster</span><span class=p>:</span>
<span class=w>  </span><span class=nt>nodes</span><span class=p>:</span>
<span class=w>    </span><span class=nt>&lt;node-type&gt;</span><span class=p>:</span>
<span class=w>      </span><span class=nt>default</span><span class=p>:</span>
<span class=w>        </span><span class=nt>mainDiskSize</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">128</span>
<span class=w>      </span><span class=nt>instances</span><span class=p>:</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class=w> </span><span class=c1># (1)!</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class=w>          </span><span class=nt>mainDiskSize</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">256</span><span class=w> </span><span class=c1># (2)!</span>
</code></pre></div> <ol> <li> <p>Since the <code>mainDiskSize</code> property is not set for this instance, the default value (128 GiB) is used.</p> </li> <li> <p>This instance has the <code>mainDiskSize</code> property set, so therefore the set value (256 GiB) overrides the default value (128 GiB).</p> </li> </ol> <p>If the property is not set at the instance level or as a default value, Kubitect uses its own default value (32 GiB).</p> <div class=highlight><pre><span></span><code><span class=nt>cluster</span><span class=p>:</span>
<span class=w>  </span><span class=nt>nodes</span><span class=p>:</span>
<span class=w>    </span><span class=nt>&lt;node-type&gt;</span><span class=p>:</span>
<span class=w>      </span><span class=nt>instances</span><span class=p>:</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class=w> </span><span class=c1># (1)!</span>
</code></pre></div> <ol> <li>Since the <code>mainDiskSize</code> property is not set at instance level or as a default value, Kubitect sets the value of the <code>mainDiskSize</code> property to <strong>32 GiB</strong>.</li> </ol> <h4 id=ip-address>IP address<a class=headerlink href=#ip-address title="Anchor link">&#128279;&#xFE0E;</a></h4> <p><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.5 5C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5m0 0C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5m14.91 6.58-9-9C12.04 2.21 11.53 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .53.21 1.04.59 1.42l.41.4c.64-.38 1.35-.63 2.08-.74L4 11V4h7l9 9-7 7-1.08-1.08c-.1.74-.36 1.44-.74 2.08l.41.41c.37.38.88.59 1.41.59.53 0 1.04-.21 1.41-.59l7-7c.38-.37.59-.88.59-1.41 0-.53-.21-1.04-.59-1.42M6.5 5C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5M6 17v4h2v-4h2l-3-3-3 3h2Z"/></svg></span> <a href=https://github.com/MusicDin/kubitect/releases/tag/v2.0.0>v2.0.0</a></p> <p>Each node in a cluster can be assigned a static IP address to ensure a predictable and consistent IP address for the node. If no IP address is set for a particular node, Kubitect will request a DHCP lease for that node. Additionally, Kubitect checks whether all set IP addresses are within the defined network range, as explained in the <a href=../cluster-network/#network-cidr>Network CIDR</a> section of the cluster network configuration.</p> <div class=highlight><pre><span></span><code><span class=nt>cluster</span><span class=p>:</span>
<span class=w>  </span><span class=nt>network</span><span class=p>:</span>
<span class=w>    </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">nat</span>
<span class=w>    </span><span class=nt>cidr</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">192.168.113.0/24</span>
<span class=w>  </span><span class=nt>nodes</span><span class=p>:</span>
<span class=w>    </span><span class=nt>&lt;node-type&gt;</span><span class=p>:</span>
<span class=w>      </span><span class=nt>instances</span><span class=p>:</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class=w>          </span><span class=nt>ip</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">192.168.113.5</span><span class=w> </span><span class=c1># (1)!</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">2</span><span class=w> </span><span class=c1># (2)!</span>
</code></pre></div> <ol> <li> <p>A static IP (<code>192.168.113.5</code>) is set for this instance.</p> </li> <li> <p>Since no IP address is defined for this instance, a DHCP lease is requested.</p> </li> </ol> <h4 id=mac-address>MAC address<a class=headerlink href=#mac-address title="Anchor link">&#128279;&#xFE0E;</a></h4> <p><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.5 5C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5m0 0C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5m14.91 6.58-9-9C12.04 2.21 11.53 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .53.21 1.04.59 1.42l.41.4c.64-.38 1.35-.63 2.08-.74L4 11V4h7l9 9-7 7-1.08-1.08c-.1.74-.36 1.44-.74 2.08l.41.41c.37.38.88.59 1.41.59.53 0 1.04-.21 1.41-.59l7-7c.38-.37.59-.88.59-1.41 0-.53-.21-1.04-.59-1.42M6.5 5C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5M6 17v4h2v-4h2l-3-3-3 3h2Z"/></svg></span> <a href=https://github.com/MusicDin/kubitect/releases/tag/v2.0.0>v2.0.0</a></p> <p>The virtual machines created by Kubitect are assigned generated MAC addresses, but a custom MAC address can be set for a virtual machine if necessary.</p> <div class=highlight><pre><span></span><code><span class=nt>cluster</span><span class=p>:</span>
<span class=w>  </span><span class=nt>nodes</span><span class=p>:</span>
<span class=w>    </span><span class=nt>&lt;node-type&gt;</span><span class=p>:</span>
<span class=w>      </span><span class=nt>instances</span><span class=p>:</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class=w>          </span><span class=nt>mac</span><span class=p>:</span><span class=w> </span><span class=s>&quot;52:54:00:00:13:10&quot;</span><span class=w> </span><span class=c1># (1)!</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">2</span><span class=w> </span><span class=c1># (2)!</span>
</code></pre></div> <ol> <li> <p>A custom MAC address (<code>52:54:00:00:13:10</code>) is set for this instance.</p> </li> <li> <p>Since no MAC address is defined for this instance, the MAC address is generated during cluster creation.</p> </li> </ol> <h4 id=host-affinity>Host affinity<a class=headerlink href=#host-affinity title="Anchor link">&#128279;&#xFE0E;</a></h4> <p><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.5 5C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5m0 0C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5m14.91 6.58-9-9C12.04 2.21 11.53 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .53.21 1.04.59 1.42l.41.4c.64-.38 1.35-.63 2.08-.74L4 11V4h7l9 9-7 7-1.08-1.08c-.1.74-.36 1.44-.74 2.08l.41.41c.37.38.88.59 1.41.59.53 0 1.04-.21 1.41-.59l7-7c.38-.37.59-.88.59-1.41 0-.53-.21-1.04-.59-1.42M6.5 5C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5M6 17v4h2v-4h2l-3-3-3 3h2Z"/></svg></span> <a href=https://github.com/MusicDin/kubitect/releases/tag/v2.0.0>v2.0.0</a></p> <p>By default, all instances in a cluster are deployed on the <a href=../hosts/#default-host>default host</a>. However, by specifying a specific host for an instance, you can control where that instance is deployed</p> <div class=highlight><pre><span></span><code><span class=nt>hosts</span><span class=p>:</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">host1</span>
<span class=w>    </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">host2</span>
<span class=w>    </span><span class=nt>default</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class=w>    </span><span class="l l-Scalar l-Scalar-Plain">...</span>

<span class=nt>cluster</span><span class=p>:</span>
<span class=w>  </span><span class=nt>nodes</span><span class=p>:</span>
<span class=w>    </span><span class=nt>&lt;node-type&gt;</span><span class=p>:</span>
<span class=w>      </span><span class=nt>instances</span><span class=p>:</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class=w>          </span><span class=nt>host</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">host1</span><span class=w> </span><span class=c1># (1)!</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">2</span><span class=w> </span><span class=c1># (2)!</span>
</code></pre></div> <ol> <li> <p>The instance is deployed on <code>host1</code>.</p> </li> <li> <p>Since no host is specified, the instance is deployed on the default host (<code>host2</code>).</p> </li> </ol> <h3 id=control-plane-and-worker-node-properties>Control plane and worker node properties<a class=headerlink href=#control-plane-and-worker-node-properties title="Anchor link">&#128279;&#xFE0E;</a></h3> <p>The following properties can only be configured for control plane or worker nodes.</p> <h4 id=data-disks>Data disks<a class=headerlink href=#data-disks title="Anchor link">&#128279;&#xFE0E;</a></h4> <p><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.5 5C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5m0 0C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5m14.91 6.58-9-9C12.04 2.21 11.53 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .53.21 1.04.59 1.42l.41.4c.64-.38 1.35-.63 2.08-.74L4 11V4h7l9 9-7 7-1.08-1.08c-.1.74-.36 1.44-.74 2.08l.41.41c.37.38.88.59 1.41.59.53 0 1.04-.21 1.41-.59l7-7c.38-.37.59-.88.59-1.41 0-.53-.21-1.04-.59-1.42M6.5 5C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5M6 17v4h2v-4h2l-3-3-3 3h2Z"/></svg></span> <a href=https://github.com/MusicDin/kubitect/releases/tag/v2.2.0>v2.2.0</a></p> <p>By default, only a main disk (volume) is attached to each provisioned virtual machine. Since the main disk already contains an operating system, it may not be suitable for storing data, and additional disks may be required. For example, <a href=https://rook.io/ >Rook</a> can be easily configured to use all the empty disks attached to the virtual machine to form a storage cluster.</p> <p>A name and size (in GiB) must be configured for each data disk. By default, data disks are created in the main resource pool. To create a data disk in a custom <a href=../hosts/#data-resource-pools>data resource pool</a>, you can set the pool property to the name of the desired data resource pool. Additionally, note that the data disk name must be unique among all data disks for a given instance.</p> <div class=highlight><pre><span></span><code><span class=nt>cluster</span><span class=p>:</span>
<span class=w>  </span><span class=nt>nodes</span><span class=p>:</span>
<span class=w>    </span><span class=nt>&lt;node-type&gt;</span><span class=p>:</span>
<span class=w>      </span><span class=nt>instances</span><span class=p>:</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class=w>          </span><span class=nt>dataDisks</span><span class=p>:</span>
<span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">data-volume</span>
<span class=w>              </span><span class=nt>pool</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">main</span><span class=w> </span><span class=c1># (1)!</span>
<span class=w>              </span><span class=nt>size</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">256</span>
<span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">rook-volume</span>
<span class=w>              </span><span class=nt>pool</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">rook-pool</span><span class=w> </span><span class=c1># (2)!</span>
<span class=w>              </span><span class=nt>size</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">512</span>
</code></pre></div> <ol> <li> <p>When <code>pool</code> property is omitted or set to <code>main</code>, the data disk is created in the main resource pool.</p> </li> <li> <p>Custom <a href=../hosts/#data-resource-pools>data resource pool</a> must be configured in the hosts section.</p> </li> </ol> <h4 id=node-labels>Node labels<a class=headerlink href=#node-labels title="Anchor link">&#128279;&#xFE0E;</a></h4> <p><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.5 5C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5m0 0C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5m14.91 6.58-9-9C12.04 2.21 11.53 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .53.21 1.04.59 1.42l.41.4c.64-.38 1.35-.63 2.08-.74L4 11V4h7l9 9-7 7-1.08-1.08c-.1.74-.36 1.44-.74 2.08l.41.41c.37.38.88.59 1.41.59.53 0 1.04-.21 1.41-.59l7-7c.38-.37.59-.88.59-1.41 0-.53-.21-1.04-.59-1.42M6.5 5C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5M6 17v4h2v-4h2l-3-3-3 3h2Z"/></svg></span> <a href=https://github.com/MusicDin/kubitect/releases/tag/v2.1.0>v2.1.0</a></p> <p>With node labels, you can help organize and manage your cluster by associating nodes with specific attributes or roles, and by grouping nodes for specific workloads or tasks.</p> <p>Node labels are used to label actual Kubernetes nodes and can be set for a specific instance or as a default value for all instances. It is important to note that labels set at the instance level are merged with the default labels. However, if labels have the same key, then the labels set at the instance level take precedence over the default labels.</p> <div class=highlight><pre><span></span><code><span class=nt>cluster</span><span class=p>:</span>
<span class=w>  </span><span class=nt>nodes</span><span class=p>:</span>
<span class=w>    </span><span class=nt>&lt;node-type&gt;</span><span class=p>:</span><span class=w> </span><span class=c1># (1)!</span>
<span class=w>      </span><span class=nt>default</span><span class=p>:</span>
<span class=w>        </span><span class=nt>labels</span><span class=p>:</span>
<span class=w>          </span><span class=nt>key1</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">def-value-1</span>
<span class=w>          </span><span class=nt>key2</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">def-value-2</span>
<span class=w>      </span><span class=nt>instances</span><span class=p>:</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class=w>          </span><span class=nt>labels</span><span class=p>:</span><span class=w> </span><span class=c1># (2)!</span>
<span class=w>            </span><span class=nt>key1</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">custom-value</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class=w>          </span><span class=nt>labels</span><span class=p>:</span><span class=w> </span><span class=c1># (3)!</span>
<span class=w>            </span><span class=nt>key3</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">super-node</span>
</code></pre></div> <ol> <li> <p>Node labels can only be applied to <strong>worker</strong> and <strong>master</strong> (control plane) nodes.</p> </li> <li> <p>Labels defined at the instance level take precedence over default labels. As a result, the following labels are applied to this instance:</p> <ul> <li><code class=highlight><span class=nt>key1</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">custom-value</span></code></li> <li><code class=highlight><span class=nt>key2</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">def-value-2</span></code></li> </ul> </li> <li> <p>Labels defined at the instance level are merged with default labels. As a result, the following labels are applied to this instance:</p> <ul> <li><code class=highlight><span class=nt>key1</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">def-value-1</span></code></li> <li><code class=highlight><span class=nt>key2</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">def-value-2</span></code></li> <li><code class=highlight><span class=nt>key3</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">super-node</span></code></li> </ul> </li> </ol> <h4 id=node-taints>Node taints<a class=headerlink href=#node-taints title="Anchor link">&#128279;&#xFE0E;</a></h4> <p><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.5 5C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5m0 0C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5m14.91 6.58-9-9C12.04 2.21 11.53 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .53.21 1.04.59 1.42l.41.4c.64-.38 1.35-.63 2.08-.74L4 11V4h7l9 9-7 7-1.08-1.08c-.1.74-.36 1.44-.74 2.08l.41.41c.37.38.88.59 1.41.59.53 0 1.04-.21 1.41-.59l7-7c.38-.37.59-.88.59-1.41 0-.53-.21-1.04-.59-1.42M6.5 5C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5M6 17v4h2v-4h2l-3-3-3 3h2Z"/></svg></span> <a href=https://github.com/MusicDin/kubitect/releases/tag/v2.2.0>v2.2.0</a></p> <p>With node taints, you can limit which pods can be scheduled to run on a particular node, and help ensure that the workload running on that node is appropriate for its capabilities and resources.</p> <p>Node taints are configured as a list of strings in the format <code>key=value:effect</code>. Taints can be set for a specific instance or as a default value for all instances. When taints are set for a particular instance, they are merged with the default taints, and any duplicate entries are removed.</p> <div class=highlight><pre><span></span><code><span class=nt>cluster</span><span class=p>:</span>
<span class=w>  </span><span class=nt>nodes</span><span class=p>:</span>
<span class=w>    </span><span class=nt>&lt;node-type&gt;</span><span class=p>:</span><span class=w> </span><span class=c1># (1)!</span>
<span class=w>      </span><span class=nt>default</span><span class=p>:</span>
<span class=w>        </span><span class=nt>taints</span><span class=p>:</span>
<span class=w>          </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;key1=value1:NoSchedule&quot;</span>
<span class=w>      </span><span class=nt>instances</span><span class=p>:</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class=w>          </span><span class=nt>taints</span><span class=p>:</span>
<span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;key2=value2:NoExecute&quot;</span>
</code></pre></div> <ol> <li>Node taints can only be applied to <strong>control plane</strong> (master) and <strong>worker</strong> nodes.</li> </ol> <h3 id=load-balancer-properties>Load balancer properties<a class=headerlink href=#load-balancer-properties title="Anchor link">&#128279;&#xFE0E;</a></h3> <p>The following properties can only be configured for load balancers.</p> <h4 id=virtual-ip-address-vip>Virtual IP address (VIP)<a class=headerlink href=#virtual-ip-address-vip title="Anchor link">&#128279;&#xFE0E;</a></h4> <p><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.5 5C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5m0 0C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5m14.91 6.58-9-9C12.04 2.21 11.53 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .53.21 1.04.59 1.42l.41.4c.64-.38 1.35-.63 2.08-.74L4 11V4h7l9 9-7 7-1.08-1.08c-.1.74-.36 1.44-.74 2.08l.41.41c.37.38.88.59 1.41.59.53 0 1.04-.21 1.41-.59l7-7c.38-.37.59-.88.59-1.41 0-.53-.21-1.04-.59-1.42M6.5 5C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5M6 17v4h2v-4h2l-3-3-3 3h2Z"/></svg></span> <a href=https://github.com/MusicDin/kubitect/releases/tag/v2.0.0>v2.0.0</a></p> <details class=question> <summary>What is VIP? <i class=click-tip></i></summary> <p>Load balancers are responsible for distributing traffic to the control plane nodes. However, a single load balancer can cause issues if it fails. To avoid this, multiple load balancers can be configured with one as the primary, actively serving incoming traffic, while others act as secondary and take over the primary position only if the primary load balancer fails. If a secondary load balancer becomes primary, it should still be reachable via the same IP, which is referred to as a virtual or floating IP (VIP).</p> </details> <p>When multiple load balancers are configured, an unused IP address within the configured network must be specified as the VIP.</p> <div class=highlight><pre><span></span><code><span class=nt>cluster</span><span class=p>:</span>
<span class=w>  </span><span class=nt>nodes</span><span class=p>:</span>
<span class=w>    </span><span class=nt>loadBalancer</span><span class=p>:</span>
<span class=w>      </span><span class=nt>vip</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">168.192.113.200</span>
</code></pre></div> <h4 id=virtual-router-id-vrid>Virtual router ID (VRID)<a class=headerlink href=#virtual-router-id-vrid title="Anchor link">&#128279;&#xFE0E;</a></h4> <p><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.5 5C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5m0 0C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5m14.91 6.58-9-9C12.04 2.21 11.53 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .53.21 1.04.59 1.42l.41.4c.64-.38 1.35-.63 2.08-.74L4 11V4h7l9 9-7 7-1.08-1.08c-.1.74-.36 1.44-.74 2.08l.41.41c.37.38.88.59 1.41.59.53 0 1.04-.21 1.41-.59l7-7c.38-.37.59-.88.59-1.41 0-.53-.21-1.04-.59-1.42M6.5 5C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5M6 17v4h2v-4h2l-3-3-3 3h2Z"/></svg></span> <a href=https://github.com/MusicDin/kubitect/releases/tag/v2.1.0>v2.1.0</a> &ensp; <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 3a2 2 0 0 1 2-2h9.982a2 2 0 0 1 1.414.586l4.018 4.018A2 2 0 0 1 21 7.018V21a2 2 0 0 1-2 2H4.75a.75.75 0 0 1 0-1.5H19a.5.5 0 0 0 .5-.5V8.5h-4a2 2 0 0 1-2-2v-4H5a.5.5 0 0 0-.5.5v6.25a.75.75 0 0 1-1.5 0Zm6.308 11.5-2.104-2.236a.751.751 0 0 1 .369-1.255.749.749 0 0 1 .723.227l3.294 3.5a.75.75 0 0 1 0 1.028l-3.294 3.5a.749.749 0 0 1-1.275-.293.751.751 0 0 1 .183-.735L9.308 16H4.09a2.59 2.59 0 0 0-2.59 2.59v3.16a.75.75 0 0 1-1.5 0v-3.16a4.09 4.09 0 0 1 4.09-4.09ZM15 2.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 0-.146-.336l-4.018-4.018A.5.5 0 0 0 15 2.5Z"/></svg></span> Default: <code>51</code></p> <p>When a cluster is created with a VIP, Kubitect configures Virtual Router Redundancy Protocol (VRRP), which provides failover for load balancers. Each VRRP group is identified by a virtual router ID (VRID), which can be any number between 0 and 255. Since there can be only one master in each group, two groups cannot have the same ID.</p> <p>By default, Kubitect sets the VRID to 51, but if you set up multiple clusters that use VIP, you must ensure that the VRID is different for each cluster.</p> <div class=highlight><pre><span></span><code><span class=nt>cluster</span><span class=p>:</span>
<span class=w>  </span><span class=nt>nodes</span><span class=p>:</span>
<span class=w>    </span><span class=nt>loadBalancer</span><span class=p>:</span>
<span class=w>      </span><span class=nt>vip</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">168.192.113.200</span>
<span class=w>      </span><span class=nt>virtualRouterId</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">30</span>
</code></pre></div> <h4 id=priority>Priority<a class=headerlink href=#priority title="Anchor link">&#128279;&#xFE0E;</a></h4> <p><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.5 5C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5m0 0C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5m14.91 6.58-9-9C12.04 2.21 11.53 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .53.21 1.04.59 1.42l.41.4c.64-.38 1.35-.63 2.08-.74L4 11V4h7l9 9-7 7-1.08-1.08c-.1.74-.36 1.44-.74 2.08l.41.41c.37.38.88.59 1.41.59.53 0 1.04-.21 1.41-.59l7-7c.38-.37.59-.88.59-1.41 0-.53-.21-1.04-.59-1.42M6.5 5C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5M6 17v4h2v-4h2l-3-3-3 3h2Z"/></svg></span> <a href=https://github.com/MusicDin/kubitect/releases/tag/v2.1.0>v2.1.0</a> &ensp; <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 3a2 2 0 0 1 2-2h9.982a2 2 0 0 1 1.414.586l4.018 4.018A2 2 0 0 1 21 7.018V21a2 2 0 0 1-2 2H4.75a.75.75 0 0 1 0-1.5H19a.5.5 0 0 0 .5-.5V8.5h-4a2 2 0 0 1-2-2v-4H5a.5.5 0 0 0-.5.5v6.25a.75.75 0 0 1-1.5 0Zm6.308 11.5-2.104-2.236a.751.751 0 0 1 .369-1.255.749.749 0 0 1 .723.227l3.294 3.5a.75.75 0 0 1 0 1.028l-3.294 3.5a.749.749 0 0 1-1.275-.293.751.751 0 0 1 .183-.735L9.308 16H4.09a2.59 2.59 0 0 0-2.59 2.59v3.16a.75.75 0 0 1-1.5 0v-3.16a4.09 4.09 0 0 1 4.09-4.09ZM15 2.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 0-.146-.336l-4.018-4.018A.5.5 0 0 0 15 2.5Z"/></svg></span> Default: <code>10</code></p> <p>Each load balancer has a priority that is used to select a primary load balancer. The one with the highest priority becomes the primary and all others become secondary. If the primary load balancer fails, the next one with the highest priority takes over. If two load balancers have the same priority, the one with the higher sum of IP address digits is selected.</p> <p>The priority can be any number between 0 and 255. The default priority is 10.</p> <div class=highlight><pre><span></span><code><span class=nt>cluster</span><span class=p>:</span>
<span class=w>  </span><span class=nt>nodes</span><span class=p>:</span>
<span class=w>    </span><span class=nt>loadBalancer</span><span class=p>:</span>
<span class=w>      </span><span class=nt>instances</span><span class=p>:</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class=w> </span><span class=c1># (1)!</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class=w>          </span><span class=nt>priority</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">200</span><span class=w> </span><span class=c1># (2)!</span>
</code></pre></div> <ol> <li> <p>Since the load balancer priority for this instance is not specified, it is set to 10.</p> </li> <li> <p>Since this load balancer instance has the highest priority (200 &gt; 10), it becomes the primary load balancer.</p> </li> </ol> <h4 id=port-forwarding>Port forwarding<a class=headerlink href=#port-forwarding title="Anchor link">&#128279;&#xFE0E;</a></h4> <p><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.5 5C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5m0 0C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5m14.91 6.58-9-9C12.04 2.21 11.53 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .53.21 1.04.59 1.42l.41.4c.64-.38 1.35-.63 2.08-.74L4 11V4h7l9 9-7 7-1.08-1.08c-.1.74-.36 1.44-.74 2.08l.41.41c.37.38.88.59 1.41.59.53 0 1.04-.21 1.41-.59l7-7c.38-.37.59-.88.59-1.41 0-.53-.21-1.04-.59-1.42M6.5 5C5.67 5 5 5.67 5 6.5S5.67 8 6.5 8 8 7.33 8 6.5 7.33 5 6.5 5M6 17v4h2v-4h2l-3-3-3 3h2Z"/></svg></span> <a href=https://github.com/MusicDin/kubitect/releases/tag/v2.1.0>v2.1.0</a></p> <p>By default, each configured load balancer has a port forwarding rule that distribute incoming traffic on port 6443 across the available control plane nodes. However, Kubitect provides the flexibility to configure additional user-defined port forwarding rules.</p> <p>The following properties can be configured for each rule:</p> <ul> <li><code>name</code> - A unique port identifier.</li> <li><code>port</code> - The incoming port on which the load balancer listens for traffic.</li> <li><code>targetPort</code> - The port to which traffic is forwarded by the load balancer.</li> <li><code>target</code> - The group of nodes to which traffic is directed. The possible targets are:<ul> <li><code>masters</code> - control plane nodes</li> <li><code>workers</code> - worker nodes</li> <li><code>all</code> - worker and control plane nodes.</li> </ul> </li> </ul> <p>Every port forwarding rule must be configured with a unique <code>name</code> and <code>port</code>. The name serves as a unique identifier for the rule, while the port specifies the incoming port on which the load balancer listens for traffic.</p> <p>The <code>target</code> and <code>targetPort</code> configurations are optional. If target port is not explicitly set, it will default to the same value as the incoming port. Similarly, if target is not set, incoming traffic is automatically distributed across worker nodes.</p> <div class=highlight><pre><span></span><code><span class=nt>cluster</span><span class=p>:</span>
<span class=w>  </span><span class=nt>nodes</span><span class=p>:</span>
<span class=w>    </span><span class=nt>loadBalancer</span><span class=p>:</span>
<span class=w>      </span><span class=nt>forwardPorts</span><span class=p>:</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">https</span>
<span class=w>          </span><span class=nt>port</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">443</span><span class=w> </span><span class=c1># (1)!</span>
<span class=w>          </span><span class=nt>targetPort</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">31200</span><span class=w> </span><span class=c1># (2)!</span>
<span class=w>          </span><span class=nt>target</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">all</span><span class=w> </span><span class=c1># (3)!</span>
</code></pre></div> <ol> <li> <p>Incoming port is the port on which a load balancer listens for incoming traffic. It can be any number between 1 and 65353, excluding ports 6443 (Kubernetes API server) and 22 (SSH).</p> </li> <li> <p>Target port is the port on which the traffic is forwarded. By default, it is set to the same value as the incoming port.</p> </li> <li> <p>Target represents a group of nodes to which incoming traffic is forwarded. Possible values are:</p> <ul> <li><code>masters</code></li> <li><code>workers</code></li> <li><code>all</code></li> </ul> <p>If the target is not configured, it defaults to the <code>workers</code>.</p> </li> </ol> <h2 id=example-usage>Example usage<a class=headerlink href=#example-usage title="Anchor link">&#128279;&#xFE0E;</a></h2> <h3 id=set-a-role-to-all-worker-nodes>Set a role to all worker nodes<a class=headerlink href=#set-a-role-to-all-worker-nodes title="Anchor link">&#128279;&#xFE0E;</a></h3> <p>By default, worker nodes in a Kubernetes cluster are not assigned any roles (<code>&lt;none&gt;</code>). To set the role of all worker nodes in the cluster, the default label with the key <code>node-role.kubernetes.io/node</code> can be configured.</p> <div class=highlight><pre><span></span><code><span class=nt>cluster</span><span class=p>:</span>
<span class=w>  </span><span class=nt>nodes</span><span class=p>:</span>
<span class=w>    </span><span class=nt>worker</span><span class=p>:</span>
<span class=w>      </span><span class=nt>default</span><span class=p>:</span>
<span class=w>        </span><span class=nt>labels</span><span class=p>:</span>
<span class=w>          </span><span class=nt>node-role.kubernetes.io/node</span><span class=p>:</span><span class=w> </span><span class=c1># (1)!</span>
<span class=w>      </span><span class=nt>instances</span><span class=p>:</span>
<span class=w>        </span><span class="l l-Scalar l-Scalar-Plain">...</span>
</code></pre></div> <ol> <li>If the label value is omitted, <code>null</code> is set as the label value.</li> </ol> <p>The roles of the nodes in a Kubernetes cluster can be viewed using <code>kubectl get nodes</code>.</p> <div class=highlight><pre><span></span><code>NAME                   STATUS   ROLES                  AGE   VERSION
k8s-cluster-master-1   Ready    control-plane,master   19m   v1.27.5
k8s-cluster-worker-1   Ready    node                   19m   v1.27.5
k8s-cluster-worker-2   Ready    node                   19m   v1.27.5
</code></pre></div> <h3 id=load-balance-http-requests>Load balance HTTP requests<a class=headerlink href=#load-balance-http-requests title="Anchor link">&#128279;&#xFE0E;</a></h3> <p>Kubitect enables users to define custom port forwarding rules on load balancers. For example, to distribute HTTP and HTTPS requests across all worker nodes, at least one load balancer must be specified and port forwarding must be configured as follows:</p> <div class=highlight><pre><span></span><code><span class=nt>cluster</span><span class=p>:</span>
<span class=w>  </span><span class=nt>nodes</span><span class=p>:</span>
<span class=w>    </span><span class=nt>loadBalancer</span><span class=p>:</span>
<span class=w>      </span><span class=nt>forwardPorts</span><span class=p>:</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">http</span>
<span class=w>          </span><span class=nt>port</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">80</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">https</span>
<span class=w>          </span><span class=nt>port</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">443</span>
<span class=w>      </span><span class=nt>instances</span><span class=p>:</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
</code></pre></div> </div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["content.code.annotate", "navigation.expand", "navigation.indexes", "navigation.instant", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script> <script src=../../../assets/javascripts/bundle.1e8ae164.min.js></script> <script src=../../../theme/assets/javascripts/extra.js></script> </body> </html>